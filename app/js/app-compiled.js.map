{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app-compiled.js","sourcesContent":["/**\n * Created by webadnan on 8/29/15.\n */\n$(function () {\n    var app = angular.module('harjanto', ['ngTouch'])\n\n    app.controller('Main', function ($scope) {\n        $scope.images = IMAGES.map(e => {\n            e.thumbnail = `app/display-images/${e.thumbnail}`\n            e.image = `app/display-images/${e.image}`\n            return e\n        })\n\n        var currentIndex = -1;\n\n        function isMobile(){\n            return $(window).width() < 700\n        }\n\n        function wh(image){\n            var wh = image.substr(image.indexOf('---')+3).split('.')[0]\n            var [w, h] = wh.split('x')\n            return [+w, +h]\n        }\n\n        function getWH(image) {\n            var [w, h] = wh(image)\n            if (h == 0) return {}\n            var r = w/h;\n\n            if (r > 1) return [parseInt(r * 230), 230]\n            else return [230, parseInt(r * 230)]\n        }\n\n        function fitWH(image, cw, ch) {\n            var [w, h] = wh(image)\n            if (h == 0) return [cw, ch]\n            var [cr, r] = [cw/ch, w/h]\n            if (r > cr) {\n                return [cw, cw/r]\n            } else {\n                return [r*ch, ch]\n            }\n        }\n\n        $scope.getThumbnailStyle = image => {\n            //return {width: '230px', height: '230px'}\n\n            var [w, h] = getWH(image)\n            if (w > h) {\n                return {\n                    height: '230px',\n                    marginLeft: `-${parseInt((w - 230)/2)}px`\n                }\n            } else {\n                return {\n                    width: '230px',\n                    marginTop: `-${parseInt((h - 230)/2)}px`\n                }\n            }\n        }\n\n        function getDeviceSpecificContentWH(){\n            var $w = $(window)\n\n            // for mobile use maximum width, height\n            if (isMobile()) {\n                return [$w.width(), $w.height()]\n            } else {\n                return [$w.width()-125, $w.height()-100]\n            }\n        }\n\n        $scope.onClick = (image, index) => {\n            currentIndex = index;\n            var $floating = $('.floating-thumbnail')\n            var $floatingImg = $floating.find('img')\n            var $target = $(`.thumbnail:eq(${index})`)\n            var $targetImg = $target.find('img')\n            var $w = $(window), scrollTop = $w.scrollTop()\n\n            $floatingImg.attr('src', image).css({\n                width: `${$targetImg.width()}px`,\n                height: `${$targetImg.height()}px`,\n                marginLeft: $targetImg.css('margin-left'),\n                marginTop: $targetImg.css('margin-top')\n            })\n\n            $floating.css({\n                display: 'block',\n                top: `${$target.offset().top - scrollTop}px`,\n                left: `${$target.offset().left}px`,\n                width: '230px',\n                height: '230px'\n            })\n\n            //var [cw, ch] = [$w.width()-125, $w.height()-100]\n            var [cw, ch] = getDeviceSpecificContentWH()\n            var [fw, fh] = fitWH(image, cw, ch)\n\n            var top = parseInt(($w.height() - fh)/2), left = parseInt(($w.width() - fw)/2)\n            $floating.animate({\n                width: fw+'px',\n                height: fh+'px',\n                top: `${top}px`,\n                left: `${left}px`\n            })\n\n            $floatingImg.animate({\n                marginLeft: 0,\n                marginTop: 0,\n                width: `${fw}px`,\n                height: `${fh}px`\n            })\n\n            if (isMobile()){\n                $('.nav-left, .nav-right').css('top', 'calc(100% - 40px)')\n            } else {\n                $('.nav-left, .nav-right').css('top', 'calc(50% - 15px)')\n            }\n\n            $('.dark-layer, .nav-left, .nav-right, .cross-button').show();\n        }\n\n        $scope.onClose = () => {\n            currentIndex = -1\n            $('.floating-thumbnail, .dark-layer, .nav-left, .nav-right, .cross-button').hide();\n        }\n\n        function goto(index){\n            currentIndex = index\n            var $floating = $('.floating-thumbnail')\n            var $floatingImg = $floating.find('img')\n            var $w = $(window), image = $scope.images[index].image\n            //var [cw, ch] = [$w.width()-125, $w.height()-100]\n            var [cw, ch] = getDeviceSpecificContentWH()\n            var [fw, fh] = fitWH(image, cw, ch)\n\n            var top = parseInt(($w.height() - fh)/2), left = parseInt(($w.width() - fw)/2)\n            $floating.animate({\n                width: fw+'px',\n                height: fh+'px',\n                top: `${top}px`,\n                left: `${left}px`\n            }, 100)\n\n            $floatingImg.attr('src', image).animate({\n                width: `${fw}px`,\n                height: `${fh}px`\n            }, 100)\n        }\n\n        $scope.onPrevious = () => {\n            if (currentIndex == 0) return;\n            goto(currentIndex-1);\n\n        }\n\n        $scope.onNext = () => {\n            if (currentIndex == $scope.images.length-1) return;\n            goto(currentIndex + 1)\n        }\n\n        $(window).keydown(e => {\n            if (currentIndex == -1) return;\n            if (e.keyCode == 37) $scope.onPrevious()\n            else if (e.keyCode == 39) $scope.onNext()\n            else if (e.keyCode == 27) $scope.onClose();\n        })\n    })\n})\n"]}